nu c, d . 
letrec f = rd x <- c . wr x -> d . f in
  f | wr 1 -> c . rd d | wr 2 -> c . rd d
